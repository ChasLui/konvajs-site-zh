<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.rawgit.com/konvajs/konva/2.0.2/konva.min.js"></script>
  <meta charset="utf-8">
  <title>Konva Enhance Image Demo</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: #F0F0F0;
    }

    #slider {
      position: absolute;
      top: 20px;
      left: 20px;
    }
  </style>
</head>

<body>
  <div id="container"></div>
  <input id="slider" type="range" min="0" max="255" step="1" value="20">
  <script>
    var stage = new Konva.Stage({
      container: 'container',
      width: window.innerWidth,
      height: window.innerHeight
    });

    var layer = new Konva.Layer();
    stage.add(layer);

    Konva.Image.fromURL('/assets/lion.png', function (lion) {
      lion.setAttrs({
        x: 80,
        y: 30,
        enhance: 20,
        draggable: true
      });
      lion.cache();
      lion.filters([Konva.Filters.Enhance]);
      layer.add(lion);

      var slider = document.getElementById('slider');
      slider.oninput = function () {
        lion.enhance(parseInt(slider.value, 10));
        layer.batchDraw();
      };
    });
  </script>

</body>

</html>